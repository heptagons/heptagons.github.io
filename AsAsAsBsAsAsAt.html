<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="SVG.js"></script>
<script type="text/javascript" src="heptagons.js"></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
//window.MathJax = { tex: { tags:'ams' }}
</script>

<style>
* { font-family: sans-serif; }
.P { color:#f00; font-size:14px; }
.i { color:#888; font-size:12px; }
.A { color:#0c0; font-size:14px; }
.B { color:#08f; font-size:14px; font-weight: bold; }
.s { color:#888; }
.t { color:#f80; }
.c1 { border:3px solid #f00; }
.c2 { border:3px solid #0c0; }
.c3 { border:3px solid #08f; }

.c > div  { color:#888; font-size:12px; padding-left: 5px; }
.c > img  { width:140px; display: block; }
.c > span { color:#0c0; font-size:14px; padding-left: 5px;}
.c > b    { color:#08f; font-size:14px; font-weight: bold; padding-left:10px; }

.case { border:1px solid #abc; }
.r { text-align: center; font-size:15px; color:#000;}
.y { color:#888; }
.red { color:#f00; }

.draft {
	width: 300px;
}
.right {
	float:right;
	margin:5px;
	background-color: #fff;
}
br { clear:right; }

dd { padding: 2px 0 10px; }
pre { font-family: monospace; background-color: #def; }
i { 
	margin:0 6px;
	text-align: right;
}
</style>
</head>
<body>
<h1>(As)<sub>3</sub>B(sA)<sub>3</sub>t</h1>

<p>
<img src="inkscape/AsAsAsBsAsAsAt_draft.svg" class="right draft">
The <b>(As)<sub>3</sub>B(sA)<sub>3</sub>t</b> heptagon family or <b>AsAsAsBsAsAsAt</b> family, has six equal angles <b class="A">A</b> and a single angle <b class="B">B</b>. Also has six equal sides <b class="s">s</b> and a single side 
<b class="t">t</b>.
<div>
At vertex <span class="P">P<sub>1</sub></span> there is a new angle called C.
At vertex <span class="P">P<sub>2</sub></span> there is a new angle called D.
At vertex <span class="P">P<sub>3</sub></span> there are two new angles called E and F:
\begin{align*}
C = \pi - A  \\
D = A - C    \\
E = \pi - D  \\
F = A - E   
\label{eq:sample}
\end{align*}
Simplifying, we get:
\begin{align*}
D &= 2A - \pi \\
F &= 3A - 2\pi
\end{align*}

<h2>Seventh side graph</h2>

The value of seventh side <b class="t">t</b> can be found as function of angle <b class="A">A</b> and side <b class="s">s</b>:
\begin{align*}
             x &\equiv \cos(A) \\
  \frac{t}{2s} &= \cos(A) + \cos(D) + \cos(F) \\
               &= \cos(A) - \cos(2A) + \cos(3A) \\
               &= 4x^3 - 2x^2 - 2x + 1 \tag{1} \\
               & = (x + \frac{1}{\sqrt2})(x - \frac{1}{2})(x - \frac{1}{\sqrt2})
\end{align*}
</div>
</p>
<br/>

<div class="right case">
<div id="sides-svg"></div>
<script>sidesSvg("sides-svg")</script>
<div class="r">The three <span class="red">equilateral</span> heptagons</div>
</div>

<div>
For any heptagon with six equal angles <b class="A">A</b> and one single angle 
<b class="B">B</b> we have:
\begin{align*}
6A + B &= 5\pi \\
0 &\le A \le 5\pi/6 \\
0 &\le B \le 5\pi
\end{align*}


Plot <span class="y">y</span> as the lineal range angles can take:
\begin{align*}
y &= \frac{ 6A/5 - \pi }{ A - \pi } \\
0 &\le y \le 1 \\
A &= \frac{1 - y}{1.2 - y}\pi \\
\end{align*}
Plot <span class="t">t</span> in x direction:
\begin{align*}
t &= \cos(A) - \cos(2A) + \cos(3A) \\
&-3s \le t \le +3s 
\end{align*}




Define the generator <b>r</b> = <b class="B">B</b> / <b class="A">A</b>:
\begin{align*}
r &\equiv \frac{B}{A} \\
&0 \le r \le \infty
\end{align*}


Plot side <span class="t">t</span> as x-coordinate and generator <b>r</b>
as coordinate y:

</div>



<br/>


<h2>The two angles</h2>

<p>
<div class="right case">
<div id="angles-svg"></div>
<script>anglesSvg("angles-svg")</script>
<div class="r">The three <span class="red">7-symmetry</span> heptagons</div>
</div>

<div>
For any heptagon with six equal angles <b class="A">A</b> and one single angle 
<b class="B">B</b> we have:
\begin{align*}
6A + B &= 5\pi \\
\frac{B}{\pi} &= 5 - 6\frac{A}{\pi}
\end{align*}

Define the generator <b>r</b> = <b class="B">B</b> / <b class="A">A</b>:
\begin{align*}
r &\equiv \frac{B}{A} \\
a &\equiv A / \pi = \frac{5}{r + 6} \\
b &\equiv B / \pi = \frac{5r}{r + 6} \\
\end{align*}

<h3>Rational angles class c</h3>
<div>
Define rational generators of class c (1,2,3...) using integers p:
\begin{align*}
r_c &\equiv \frac{p}{10c - p}, \quad\quad \text{where $ 0 \le p \le 10c $} \\
a_c &= \frac{5}{r_c+6} = \frac{10c - p}{12c - p} \\
b_c &= \frac{5r_c}{r_c+6} = \frac{p}{12c - p}
\end{align*}
Class 1 generators are eleven:
\begin{align}
r_1 = \frac{0}{10}, \frac{1}{9}, \frac{2}{8}, \frac{3}{7}, \frac{4}{6}, \frac{5}{5},
\frac{6}{4}, \frac{7}{3}, \frac{8}{2}, \frac{9}{1}, \frac{10}{0}
\end{align}
Class 2 generators are only two (removing values repeated in lower class 1):
\begin{align}
r_2 = \frac{1}{19}, \frac{3}{17}, \frac{5}{15}, \frac{7}{13}, \frac{9}{11}, \frac{11}{9},
\frac{13}{7}, \frac{15}{5}, \frac{17}{3}, \frac{19}{1}
\end{align}
and so on...
</div>
</div>
</p>



<p>
<div id="it" class="right"></div>
<div id="table"></div>
<script>

const svg = new SVG()
const it = svg.it(400, 1600)
document.getElementById("it").innerHTML = it.join("\n")

let row = []
const rows = []
for (let j=0; j <= 60; j++) {
	const doRow = (div, clazz, end)=> {
		row.push({ n: j/div, d: (60-j)/div, c:clazz })
		if (end || j==60) {
			rows.push(row)
			row = []
		}
	}
	if (j%6==0) { doRow(6,"c1") } else
	if (j%6==2) { doRow(2,"c3") } else
	if (j%6==3) { doRow(3,"c2") } else
	if (j%6==4) { doRow(2,"c3", true) }
}
const trows = []
const H = ["","c=1","","c=3","","c=2","","c=3",""]
trows.push("<table>")
trows.push(`<tr>${H.map(m => `<th>${m}</th>`).join("")}</tr>`)

rows.forEach((row,r) => {
	trows.push("<tr>")
	trows.push(`<th>y${r+1}</th>`)
	row.forEach(col => {
		trows.push(`<td class="c ${col.c}">`)
		trows.push(`<div>${col.n}/${col.d}</div>`)
		const svgContent = svg.caseSvg(100, 100, col.n + "/" + col.d)
		svgContent.push("<br/>")
		trows.push(svgContent.join("\n"))

		const An = col.d
		const Ad = (col.n + 6*col.d) / 5
		trows.push(`<span>${An}/${Ad}</span>`)
		trows.push(`<b>${col.n}/${Ad}</b>`)
		trows.push("</td>")
		if (row.length > 1)
			trows.push("<td>...</td>")
	})
	trows.push("</tr>")
})
trows.push("</table>")

document.getElementById("table").innerHTML = trows.join("\n")
</script>

</body>
</html>
