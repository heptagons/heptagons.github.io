<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="SVG.js"></script>
<style>
* { font-family: sans-serif; }
.i { color:#888; font-size:12px; }
.A { color:#0c0; font-size:14px; }
.B { color:#08f; font-size:14px; font-weight: bold; }
.s { color:#f00; }
.t { color:#f80; }
.c1 { border:3px solid #f00; }
.c2 { border:3px solid #0c0; }
.c3 { border:3px solid #08f; }

.c > div  { color:#888; font-size:12px; padding-left: 5px; }
.c > img  { width:140px; display: block; }
.c > span { color:#0c0; font-size:14px; padding-left: 5px;}
.c > b    { color:#08f; font-size:14px; font-weight: bold; padding-left:10px; }

.right {
	width: 300px;
	float:right;
	margin:0 5px 0 0;
}
dd { padding: 2px 0 10px; }
pre { font-family: monospace; }
i { 
	margin:0 6px;
	text-align: right;
}
br { clear:both; }
</style>
</head>
<body>
<h1>Heptagons families</h1>
<h2>AsAsAsBsAsAsAt</h2>

<h3>Formulas</h3>
<p>
<img src="inkscape/AsAsAsBsAsAsAt_draft.svg" class="right">
The heptagon at the right has six equal angles <b class="A">A</b> and a single angle <b class="B">B</b>. Also has six equal sides <b class="s">s</b> and a single side 
<b class="t">t</b>.
<dl>
<dt>At vertex P1 there are two angles</dt>
<dd><b>A</b></li> and <b>C = &pi; - A</b></dd>
<dt>At vertex P2 there are two angles</dt>
<dd><b>C</b></li> and <b>D = A - C</b></dd>
<dt>At vertex P3 there are three angles</dt>
<dd><b>D</b>, <b>E = &pi; - D</b> and <b>F = A - E</b></li></dd>
<dt>Simplifying, we get</dt>
<dd><pre>
D = 2A - &pi;     (1)
F = 3A - 2&pi;    (2)
</pre></dd>
<dt>So, the value of seventh side <b class="t">t</b> can be found</dt>
<dd><pre>
t = 2s[ cos(A) + cos(D) + cos(F) ]                (3)
  = 2s[ cos(A) + cos(2A - &pi;) + cos(3A - 2&pi;) ]     (4)
</pre></dd>
</dl>
</p>
<br/>
<h3>Iterator</h3>


<dl>
<dt>
Define the iterator <b>i</b> = <b class="B">B</b> / <b class="A">A</b> as a real number ranging from zero to infinity. Then, angle <b class="A">A</b> can be described as factor of the iterator
</dt>
<dd>
<pre>
i   = B / A             (5)
A/&pi; = 5 / (i + 6)       (6)
</pre>
</dd>
<dt>
For any heptagon with six angles <b class="A">A</b> and one angle <b class="B">B</b> we have
</dt>
<dd>
<pre>
B/&pi; = 5 - 6A/&pi;          (7)
</pre>
</dd>
</dl>


<p>
<div id="it" class="right"></div>
<div id="table"></div>
<script>

const svg = new SVG()
const it = svg.it(400, 1600)
document.getElementById("it").innerHTML = it.join("\n")

let row = []
const rows = []
for (let j=0; j <= 60; j++) {
	const doRow = (div, clazz, end)=> {
		row.push({ n: j/div, d: (60-j)/div, c:clazz })
		if (end || j==60) {
			rows.push(row)
			row = []
		}
	}
	if (j%6==0) { doRow(6,"c1") } else
	if (j%6==2) { doRow(2,"c3") } else
	if (j%6==3) { doRow(3,"c2") } else
	if (j%6==4) { doRow(2,"c3", true) }
}
const trows = []
const H = ["","C1","","C3","","C2","","C3",""]
trows.push("<table>")
trows.push(`<tr>${H.map(m => `<th>${m}</th>`).join("")}</tr>`)

rows.forEach((row,r) => {
	trows.push("<tr>")
	trows.push(`<th>R${r+1}</th>`)
	row.forEach(col => {
		trows.push(`<td class="c ${col.c}">`)
		trows.push(`<div>${col.n}/${col.d}</div>`)
		const svgContent = svg.caseSvg(100, 100, col.n + "/" + col.d)
		svgContent.push("<br/>")
		trows.push(svgContent.join("\n"))

		const An = col.d
		const Ad = (col.n + 6*col.d) / 5
		trows.push(`<span>${An}/${Ad}</span>`)
		trows.push(`<b>${col.n}/${Ad}</b>`)
		trows.push("</td>")
		if (row.length > 1)
			trows.push("<td>...</td>")
	})
	trows.push("</tr>")
})
trows.push("</table>")

document.getElementById("table").innerHTML = trows.join("\n")
</script>

</body>
</html>
