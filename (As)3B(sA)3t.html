<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="SVG.js"></script>
<script type="text/javascript" src="heptagons.js"></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
//window.MathJax = { tex: { tags:'ams' }}
</script>

<style>
* { font-family: sans-serif; }
.P { color:#f00; font-size:14px; }
.i { color:#888; font-size:12px; }
.A { color:#0c0; font-size:14px; }
.B { color:#08f; font-size:14px; font-weight: bold; }
.s { color:#888; }
.t { color:#f80; }
.c1 { border:3px solid #f00; }
.c2 { border:3px solid #0c0; }
.c3 { border:3px solid #08f; }

.c > div  { color:#888; font-size:12px; padding-left: 5px; }
.c > img  { width:140px; display: block; }
.c > span { color:#0c0; font-size:14px; padding-left: 5px;}
.c > b    { color:#08f; font-size:14px; font-weight: bold; padding-left:10px; }

.case { border:1px solid #abc; }
.svg { background-color: #fff; margin:5px; border:1px solid #abc;}
.r { font-size:15px; color:#000; padding:5px; max-width:480px; }
.y { color:#888; }
.red { color:#f00; }
.brown { color:#840; }

.draft {
	width: 300px;
}
.right {
	clear:right;
	float:right;
	margin:3px 0 5px 5px;
	background-color: #eee;
	width: auto;
}
br { clear:right; }

dd { padding: 2px 0 10px; }
pre { font-family: monospace; background-color: #def; }
i { 
	margin:0 6px;
	text-align: right;
}

span.c  { display:inline-block; margin:3px; }


</style>
</head>
<body>
<h1>(As)<sub>3</sub>B(sA)<sub>3</sub>t</h1>

<p>
The <b>(As)<sub>3</sub>B(sA)<sub>3</sub>t</b> heptagon has 
six equal angles <b class="A">A</b> and a single angle <b class="B">B</b>. Also has 
six equal sides <b class="s">s</b> and 
a single side <b class="t">t</b>.	
<div class="right case">
<img src="inkscape/AsAsAsBsAsAsAt_draft.svg" class="svg draft">
<div class="r">(As)<sub>3</sub>B(sA)<sub>3</sub>t heptagon</div>
</div>
<h3>Angles</h3>
<div>
 For such an heptagon we have (\( 0 \le A \le 5\pi/6 \)) and 
 (\( 0 \le B \le 5\pi\)):
\begin{align*}
6A + B &= 5\pi
\end{align*}
At vertex <span class="P">P<sub>1</sub></span> there is an angle called \( C \).
At vertex <span class="P">P<sub>2</sub></span> there is an angle called \(D\).
At vertex <span class="P">P<sub>3</sub></span> there are two angles called \(E\) and \(F\):
\begin{align*}
C &= \pi - A  \\
D &= A - C = 2A - \pi \\
E &= \pi - D  \\
F &= A - E = 3A - 2\pi \\ 
\end{align*}
</div>
<h3>Sides</h3>
Set \(s_{1...6}\) as 1.
The value of seventh side <b class="t">t</b> can be found as function of angle <b class="A">A</b> and side <b class="s">s</b>:
\begin{align*}
s_{1...6} &\equiv 1 \\
u &= \cos A \\
  t &= 2(\cos A + \cos D + \cos F) \\
    &= 2(\cos A + \cos(2A - \pi) + \cos(3A - 2\pi)) \\
    &= 2(\cos A - \cos(2A) + \cos(3A)) \\
    &= 2(\cos A - (2\cos^2 A - 1) + 4\cos^3 A - 3\cos A) \\
    &= 2(4u^3 - 2u^2 - 2u + 1) \\
\end{align*}
</div>
<br/>

<h3>Generators</h3>

<div>
Define the generators 
\(r\) = <b class="B">B</b> / <b class="A">A</b>
and \(y\):

\begin{align*}
r &\equiv \frac{B}{A}     
  = \frac{5\pi - 6A}{A}
  = \frac{y}{1-y}, \quad\quad \text{$ 0 \le r \le \infty $}  \\
y &\equiv \frac{r}{r+1}
  = \frac{B}{A + B} = \frac{5\pi - 6A}{5\pi - 5A} 
  , \quad\quad \text{$ 0 \le y \le 1 $} \\
A &= \frac{5}{6+r}\pi = \frac{1 + y}{6/5 - y}\pi \\
\end{align*}
</div>

</div>
</p>

<h3>Rational generators</h3>
<p>
Define rational generators of class \(c\) (1,2,3...) using integers \(p\):
\begin{align*}
y_c &\equiv \frac{p}{10c}, \quad\quad \text{where $ 0 \le p \le 10c $} \\
r_c &= \frac{p}{10c - p} \\
A_c/\pi &= \frac{5}{r_c+6} = \frac{10c - p}{12c - p} \\
B_c/\pi &= \frac{5r_c}{r_c+6} = \frac{p}{12c - p} \\
r &= \frac{5A_q - 6A_p}{ A_p}, \quad \text{ where $ \frac{A_p}{A_q} \equiv A $}
\end{align*}

Class 1 generators are eleven:
\begin{align}
r_1 = \frac{0}{10}, \frac{1}{9}, \frac{2}{8}, \frac{3}{7}, \frac{4}{6}, \frac{5}{5},
\frac{6}{4}, \frac{7}{3}, \frac{8}{2}, \frac{9}{1}, \frac{10}{0}
\end{align}

Class 2 generators are only ten (removing values repeated in lower class 1):
\begin{align}
r_2 = \frac{1}{19}, \frac{3}{17}, \frac{5}{15}, \frac{7}{13}, \frac{9}{11}, \frac{11}{9},
\frac{13}{7}, \frac{15}{5}, \frac{17}{3}, \frac{19}{1}
\end{align}
and so on...
</p>


<h2>Side graph</h2>

<div class="right case">
<div class="svg" id="sides-svg"><script>sidesSvg("sides-svg")</script></div>
<div class="r">
Three degenerated heptagons in <b class="black">black</b> dots. 
Three equilateral heptagons in <b class="red">red</b> dots. 
Three more degenerated heptagons in <b class="brown">brown</b> dots.
</div>
</div>
<div>

Plot <span class="y">y</span> from top (\(y=0\)) to bottom (\(y=1\)).
Plot <span class="t">t</span> from left (\(t = -3\)) to right (\(t = +3\)) with:
\begin{align*}
u &= \cos(\frac{1 + y}{6/5 - y}\pi) \\
\end{align*}
</div>
<p>
For \(t=0\) we solve \( 8u^3 - 4u^2 - 4u + 2 = 0\) and get 
\(u= \frac{-1}{\sqrt{2}}, \frac{1}{2}, \frac{1}{\sqrt{2}} \) 
corresponding to three <b class="style">degenerated</b> heptagons:
\begin{align}
\arccos(-1/\sqrt{2}) &= 3\pi/4 = A|_{y=4/10} \\
\arccos(1/2) &= \pi/3 = A|_{y=9/10} \\
\arccos(1/\sqrt{2}) &= \pi/4 = A|_{y=28/30}
\end{align}
</p>
<p>
For \( t = 1 \) we solve \( 8u^3 - 4u^2 - 4u + 2 = 1\) 
and get three <b class="red">equilateral</b> heptagons known as {7}, {7/2}, {7/3}: 
\begin{align}
\arccos(-0.62349) &= 5\pi/7 = A|_{y=5/10} \\
\arccos(+0.22252) &= 3\pi/7 = A|_{y=17/20} \\
\arccos(+0.90097) &= \pi/7  = A|_{y=29/30}
\end{align}
</p>
<p>
For \(t = 2\) we solve \( 8u^3 - 4u^2 - 4u + 2 = 2\) and get another three <b class="brown">degenerated</b> heptagons: 
\begin{align}
\arccos(-1/2) &= 2\pi/3 = A|_{y=6/10} \\
\arccos(0) &= \pi/2 = A|_{y=8/10} \\
\arccos(1) &= 0 = A|_{y=10/10}
\end{align}
</p>

<br/>


<h2>Angles graph</h2>

<p>
<div class="right case">
<div class="svg" id="angles-svg"><script>anglesSvg("angles-svg")</script></div>
<div class="r">The three <span class="red">7-symmetry</span> heptagons</div>
</div>

<div>
<p>
Plot <span class="y">y</span> from top (\(y=0\)) to bottom (\(y=1\)).
Plot <span class="A">A</span> from left (\(0\)) to right (\(\frac{5}{6}\pi\)) and
<span class="B">B</span> from left (\(0\)) to rigth (\( 5\pi \)).
</p>
<p>
At \(r = \frac{5}{5}\)  A and B curves intersects. All angles are equal and represents the regular heptagon {7}. 
</p>
<p>
At \(r = \frac{17}{3}\) \(B - A = 2\pi \). This is the case of heptagon {7/2}. It seems \(B\) equals \(A\) but is not, exceeds \(A \) by a complete turn, so {7/2} is equilateral but not regular.
</p>
<p>
At \(r = \frac{29}{1}\) \(B - A = 4\pi \). This is case of heptagon {7/3}. It seems \(B\) equals \(A\) but is not, \(B\) exceeds \(A\) by two complete turns so {7/3} is equilateral but not regular.
</p>
</div>
</p>

<br/>

<div id="types"></div>
<script>
{
const h60 = new H60()
const $g = new XML()

const pushSvg = (h, wh, t, footer)=> {
	$g.span("c", {}, ()=> {
		$g.div("case", {}, ()=> {
			if (t)   $g.div(null, {}, t);
			if (h.c) $g.div("r", {}, `r<sub>${h.c}</sub> = ${h.p}/${h.q}`);
			if (h.A) $g.div("A", {}, `A/&pi; = ${h.A.p}/${h.A.q}`);
			if (h.B) $g.div("B", {}, `B/&pi; = ${h.B.p}/${h.B.q}`);
			const svg = new SVG()
			$g.div(null, {}, svg.caseSvg(wh, wh, `${h.p}/${h.q}`))
			if (footer)
				$g.div(null, { style:`max-width:${wh}px` }, footer)
		})
	})
}

$g.h2(null, {}, "Types")
$g.div(null, {}, ()=> {
	h60.types.forEach((t,i) => {
		const h = { p:t[0], q:t[1] }
		const top = `Type <b>[${t[2]}]</b> r=${t[0]}/${t[1]}` 
		const x = h60.typesIntersections[t[2]]
		pushSvg(h, 120, top, x)
	})
})

$g.h3(null, {}, "Types details")
{
	const span = (t)=> { $g.span(null, {}, t) }
	let t = 1
	$g.dl(null, {}, ()=> {
		for (let i=0; i < h60.YB.length; i++) {
			const yb1 = h60.YB[i]
			const p = yb1[0]
			const q = yb1[1]
			const t = yb1[2]
			const single = h60.single(p, q)
			$g.dt(null, {}, ()=> {
				$g.table(null, {}, ()=> {
					$g.tr(null, {}, ()=> {
						$g.td(null, {}, "Type")
						$g.td(null, {}, `<b>[${t}]</b>`)
					})
					$g.tr(null, {}, ()=> {
						$g.td(null, {}, "Intersections")
						const i = h60.typesIntersections[t] || ""
						$g.td(null, {}, `<b>${i}</b>`)
					})
				})
			})
			$g.dd(null, {}, ()=> {
				pushSvg(single, 80)
			})
			if (i < h60.YB.length - 1) {
				const yb2 = h60.YB[i+1]
				const yg = h60.YG[i]
				const t = `${yb1[2]},${yb2[2]}`
				$g.dt(null, {}, ()=> {
					$g.table(null, {}, ()=> {
						$g.tr(null, {}, ()=> {
							$g.td(null, {}, "Type")
							$g.td(null, {}, `<b>[${t}]</b>`)
						})
						$g.tr(null, {}, ()=> {
							$g.td(null, {}, "Group")
							$g.td(null, {}, `<b>${yg.t}</b>`)
						})
						$g.tr(null, {}, ()=> {
							$g.td(null, {}, "Intersections")
							const i = h60.typesIntersections[t] || ""
							$g.td(null, {}, `<b>${i}</b>`)
						})
					})
					//const i = h60.typesIntersections[t] || ""
					//span(`Group <b>${yg.t}</b>. Intersections:<b>${i}</b>. Examples:`)
				})
				$g.dd(null, {}, ()=> {
					const g = h60.group(yb1[0], yb1[1], yb2[0], yb2[1])
					$g.span(null, {}, "...")
					g.forEach(g => {
						if (yg.max >= g.c) {
							pushSvg(g, 80)
							$g.span(null, {}, "...")
						}
					})
				})
			}
		}
	})
}
$g.id("types")
}
</script>
</body>
</html>
